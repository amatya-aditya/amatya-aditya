<!-- This layout is used in all post with table of conetent. Making changes here will efect all pages. We recommend not to change anything here. --> <!DOCTYPE html><html lang="en"><head><meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" /><meta name="color-scheme" content="light dark" /><link rel="dns-prefetch" href="//fonts.googleapis.com" /><link rel="dns-prefetch" href="//google-analytics.com" /><link rel="dns-prefetch" href="//www.google-analytics.com" /><link rel="dns-prefetch" href="//maxcdn.bootstrapcdn.com" /><link rel="dns-prefetch" href="//ajax.googleapis.com" /><link rel="dns-prefetch" href="//fonts.gstatic.com" /><title>2D Mohr’s Circle | Aditya Amatya</title><meta name="generator" content="Jekyll v4.2.1" /><meta property="og:title" content="2D Mohr’s Circle" /><meta property="og:locale" content="en_US" /><meta name="description" content="Mohr’s Circle is a valuable tool in material mechanics that visualizes stress components in a material subjected to loads." /><meta property="og:description" content="Mohr’s Circle is a valuable tool in material mechanics that visualizes stress components in a material subjected to loads." /><link rel="canonical" href="http://localhost:4000/projects/2D%20Mohr's%20Circle/" /><meta property="og:url" content="http://localhost:4000/projects/2D%20Mohr's%20Circle/" /><meta property="og:site_name" content="Aditya Amatya" /><meta property="og:image" content="http://localhost:4000/images/python/2dmohrscircle.png" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2022-02-18T00:00:00+05:45" /><meta name="twitter:card" content="summary_large_image" /><meta property="twitter:image" content="http://localhost:4000/images/python/2dmohrscircle.png" /><meta property="twitter:title" content="2D Mohr’s Circle" /><script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","dateModified":"2022-02-18T00:00:00+05:45","datePublished":"2022-02-18T00:00:00+05:45","description":"Mohr’s Circle is a valuable tool in material mechanics that visualizes stress components in a material subjected to loads.","headline":"2D Mohr’s Circle","image":"http://localhost:4000/images/python/2dmohrscircle.png","mainEntityOfPage":{"@type":"WebPage","@id":"http://localhost:4000/projects/2D%20Mohr's%20Circle/"},"url":"http://localhost:4000/projects/2D%20Mohr's%20Circle/"}</script><meta property="og:image" content="http://localhost:4000" /><link rel="stylesheet" href="/assets/font-awesome-4.7.0/css/academicons.min.css" /><link rel="stylesheet" href="/assets/css/main-default.css"/><link rel="stylesheet" href="/blog_assets/css/bootstrap.min.css"><link rel="stylesheet" href="/blog_assets/css/bootstrap.min.css"><link rel="stylesheet" href="/blog_assets/css/bootstrap.min.css"><link rel="stylesheet" href="/blog_assets/css/animate.min.css"><link rel="stylesheet" href="/blog_assets/css/magnific-popup.css"><link rel="stylesheet" href="/blog_assets/css/fontawesome-all.min.css"><link rel="stylesheet" href="/blog_assets/css/imageRevealHover.css"><link rel="stylesheet" href="/blog_assets/css/swiper-bundle.css"><link rel="stylesheet" href="/blog_assets/css/flaticon.css"><link rel="stylesheet" href="/blog_assets/css/slick.css"><link rel="stylesheet" href="/blog_assets/css/spacing.css"><link rel="stylesheet" href="/blog_assets/css/main.css"><link id="color-scheme" rel="stylesheet" href="/assets/css/main-default.css"/><link rel="apple-touch-icon" sizes="60x60" href="/assets/img/apple-touch-icon.png" /><link rel="apple-touch-icon" sizes="114x114" href="/assets/img/apple-touch-icon.png" /><link rel="apple-touch-icon" sizes="152x152" href="/assets/img/apple-touch-icon.png" /><link rel="icon" type="image/png" sizes="192x192" href="/assets/img/android-chrome-512x512.png" /><link rel="shortcut icon" href="/assets/img/favicon.ico" type="image/x-icon" /><link rel="icon" href="/assets/img/favicon.ico" type="image/x-icon" /><script async src="https://www.googletagmanager.com/gtag/js?id=G-VH8HKD81EQ"></script><script> window.dataLayer = window.dataLayer || []; function gtag() { dataLayer.push(arguments); } gtag('js', new Date()); gtag('config', 'G-VH8HKD81EQ');</script><script async src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-MML-AM_CHTML" ></script><script src="https://cdn.jsdelivr.net/npm/chart.js@2.9.3/dist/Chart.min.js"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.14.0/css/all.min.css" /></head><body> <section class="navigation"><div class="nav-container"> <nav><div class="nav-mobile"><a id="nav-toggle" href="#!"><span></span></a></div><ul class="nav-list navbar-collapse"> <li class="nav-active"> <a href="http://localhost:4000/">Home</a> </li> <li class=""> <a href="http://localhost:4000/resume/">Resume</a> </li> <li class=""> <a href="http://localhost:4000/publications/">Publications</a> </li> <li class="nav-active"> <a href="http://localhost:4000/projects/">Projects</a> </li> <li class=""> <a href="http://localhost:4000/blog/">Blog</a> </li> <li class=""> <a href="http://localhost:4000/contact/">Contact</a> </li> <li class="searched" style="padding-top: 0.65em;"><div class="searchedBox"> <input id="search-input" class="searchedInput" type="text" name="" placeholder="Search" /> <button class="searchedButton" href="#"> <i class="fa fa-search"></i> </button></div></li> </ul> </nav> </section><div class="wrapper" ><div class="container-grid"><div class="main-post"><div class="main-container shadow"> <main> <ul class="breadcrumbs"> <li><a href="/">Home</a></li> <li> <a href="/projects">Projects</a> </li> <li> <a href="#">2d%20mohr's%20circle</a> </li> </ul><div class="meta" data-aos="fade-up"> <p> <small> <span> <i class="fa fa-calendar" aria-hidden="true"></i> 18 Feb 2022&nbsp; </span> <span> <i class="fa fa-user" aria-hidden="true"></i> &nbsp; </span> <span> <i class="fa fa-clock-o" aria-hidden="true"></i> 9 mins read. </span> </small> </p></div><div class=""><div class="article"> <p>Understanding stress and strain in materials is crucial in various engineering disciplines. Mohr’s Circle, a graphical representation, helps visualize stress components within materials.</p><div> <object data="http://localhost:4000/images/python/2d-mohrs-circle.gif" width="100%" height="100%" type="image/gif"></object></div><div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># -*- coding: utf-8 -*-
</span><span class="s">"""
@author: A Aditya
"""</span>

<span class="kn">import</span> <span class="nn">PySimpleGUI</span> <span class="k">as</span> <span class="n">sg</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="n">plt</span>
<span class="kn">from</span> <span class="nn">matplotlib.backends.backend_tkagg</span> <span class="kn">import</span> <span class="n">FigureCanvasTkAgg</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="n">np</span>

<span class="c1"># Function to create Mohr's Circle
</span><span class="k">def</span> <span class="nf">create_mohrs_circle</span><span class="p">(</span><span class="n">sigma_x</span><span class="p">,</span> <span class="n">sigma_y</span><span class="p">,</span> <span class="n">tau_xy</span><span class="p">):</span>
    <span class="n">center</span> <span class="o">=</span> <span class="p">(</span><span class="n">sigma_x</span> <span class="o">+</span> <span class="n">sigma_y</span><span class="p">)</span> <span class="o">/</span> <span class="mi">2</span>
    <span class="n">radius</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="n">sqrt</span><span class="p">(((</span><span class="n">sigma_x</span> <span class="o">-</span> <span class="n">sigma_y</span><span class="p">)</span> <span class="o">/</span> <span class="mi">2</span><span class="p">)</span> <span class="o">**</span> <span class="mi">2</span> <span class="o">+</span> <span class="n">tau_xy</span> <span class="o">**</span> <span class="mi">2</span><span class="p">)</span>
    

    <span class="n">angle</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">np</span><span class="p">.</span><span class="n">pi</span><span class="p">,</span> <span class="mi">200</span><span class="p">)</span>
    <span class="n">x</span> <span class="o">=</span> <span class="n">center</span> <span class="o">+</span> <span class="n">radius</span> <span class="o">*</span> <span class="n">np</span><span class="p">.</span><span class="n">cos</span><span class="p">(</span><span class="n">angle</span><span class="p">)</span>
    <span class="n">y</span> <span class="o">=</span> <span class="n">radius</span> <span class="o">*</span> <span class="n">np</span><span class="p">.</span><span class="n">sin</span><span class="p">(</span><span class="n">angle</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">center</span><span class="p">,</span> <span class="n">radius</span>

<span class="c1"># GUI Layout
</span><span class="n">layout</span> <span class="o">=</span> <span class="p">[</span>
    <span class="p">[</span><span class="n">sg</span><span class="p">.</span><span class="n">Text</span><span class="p">(</span><span class="s">'Sigma X'</span><span class="p">),</span> <span class="n">sg</span><span class="p">.</span><span class="n">Slider</span><span class="p">((</span><span class="o">-</span><span class="mi">100</span><span class="p">,</span> <span class="mi">100</span><span class="p">),</span> <span class="n">default_value</span><span class="o">=</span><span class="mi">50</span><span class="p">,</span> <span class="n">orientation</span><span class="o">=</span><span class="s">'h'</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="mi">10</span><span class="p">),</span> <span class="n">key</span><span class="o">=</span><span class="s">'-SIGMAX-'</span><span class="p">),</span>
     <span class="n">sg</span><span class="p">.</span><span class="n">Text</span><span class="p">(</span><span class="s">'Sigma Y'</span><span class="p">),</span> <span class="n">sg</span><span class="p">.</span><span class="n">Slider</span><span class="p">((</span><span class="o">-</span><span class="mi">100</span><span class="p">,</span> <span class="mi">100</span><span class="p">),</span> <span class="n">default_value</span><span class="o">=</span><span class="mi">20</span><span class="p">,</span> <span class="n">orientation</span><span class="o">=</span><span class="s">'h'</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="mi">10</span><span class="p">),</span> <span class="n">key</span><span class="o">=</span><span class="s">'-SIGMAY-'</span><span class="p">),</span>
     <span class="n">sg</span><span class="p">.</span><span class="n">Text</span><span class="p">(</span><span class="s">'Tau XY'</span><span class="p">),</span> <span class="n">sg</span><span class="p">.</span><span class="n">Slider</span><span class="p">((</span><span class="o">-</span><span class="mi">100</span><span class="p">,</span> <span class="mi">100</span><span class="p">),</span> <span class="n">default_value</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">orientation</span><span class="o">=</span><span class="s">'h'</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="mi">10</span><span class="p">),</span> <span class="n">key</span><span class="o">=</span><span class="s">'-TAUXY-'</span><span class="p">)],</span>
    <span class="p">[</span><span class="n">sg</span><span class="p">.</span><span class="n">Canvas</span><span class="p">(</span><span class="n">key</span><span class="o">=</span><span class="s">'-CANVAS-'</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="p">(</span><span class="mi">400</span><span class="p">,</span> <span class="mi">400</span><span class="p">),</span> <span class="n">background_color</span><span class="o">=</span><span class="s">'#40516c'</span><span class="p">),</span>
     <span class="n">sg</span><span class="p">.</span><span class="n">Table</span><span class="p">(</span><span class="n">values</span><span class="o">=</span><span class="p">[[</span><span class="s">''</span><span class="p">,</span> <span class="s">''</span><span class="p">,</span> <span class="s">''</span><span class="p">,</span> <span class="s">''</span><span class="p">]],</span> <span class="n">headings</span><span class="o">=</span><span class="p">[</span><span class="s">'Important Results '</span><span class="p">,</span> <span class="s">'Values'</span><span class="p">],</span> <span class="n">auto_size_columns</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span>
              <span class="n">num_rows</span><span class="o">=</span><span class="mi">7</span><span class="p">,</span> <span class="n">justification</span><span class="o">=</span><span class="s">'center'</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="s">'-TABLE-'</span><span class="p">,</span> <span class="n">background_color</span><span class="o">=</span><span class="s">'#40516c'</span><span class="p">)],</span>
    
<span class="p">]</span>

<span class="c1"># Create the window
</span><span class="n">window</span> <span class="o">=</span> <span class="n">sg</span><span class="p">.</span><span class="n">Window</span><span class="p">(</span><span class="s">'Mohr</span><span class="se">\'</span><span class="s">s Circle'</span><span class="p">,</span> <span class="n">layout</span><span class="p">,</span> <span class="n">finalize</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>

<span class="c1"># Create initial Mohr's Circle data
</span><span class="n">sigma_x</span> <span class="o">=</span> <span class="mi">50</span>
<span class="n">sigma_y</span> <span class="o">=</span> <span class="mi">20</span>
<span class="n">tau_xy</span> <span class="o">=</span> <span class="mi">10</span>
<span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">center</span><span class="p">,</span> <span class="n">radius</span> <span class="o">=</span> <span class="n">create_mohrs_circle</span><span class="p">(</span><span class="n">sigma_x</span><span class="p">,</span> <span class="n">sigma_y</span><span class="p">,</span> <span class="n">tau_xy</span><span class="p">)</span>
<span class="n">sigma_1</span> <span class="o">=</span> <span class="n">center</span> <span class="o">+</span> <span class="n">radius</span>    <span class="c1"># maximum principal stress
</span><span class="n">sigma_2</span> <span class="o">=</span> <span class="n">center</span> <span class="o">-</span> <span class="n">radius</span>    <span class="c1"># minimum principal stress
</span>
<span class="c1"># Create initial Mohr's Circle plot
</span><span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="p">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">4</span><span class="p">),</span> <span class="n">facecolor</span><span class="o">=</span><span class="s">'#40516c'</span><span class="p">)</span>
<span class="n">ax</span><span class="p">.</span><span class="n">set_xlim</span><span class="p">(</span><span class="n">center</span> <span class="o">-</span> <span class="mi">60</span><span class="p">,</span> <span class="n">center</span> <span class="o">+</span> <span class="mi">60</span><span class="p">)</span>
<span class="n">ax</span><span class="p">.</span><span class="n">set_ylim</span><span class="p">(</span><span class="o">-</span><span class="n">radius</span> <span class="o">-</span> <span class="mi">10</span><span class="p">,</span> <span class="n">radius</span> <span class="o">+</span> <span class="mi">10</span><span class="p">)</span>
<span class="n">ax</span><span class="p">.</span><span class="n">grid</span><span class="p">(</span><span class="bp">True</span><span class="p">)</span>

<span class="c1"># Draw the initial Mohr's Circle plot on the canvas
</span><span class="n">fig_canvas_agg</span> <span class="o">=</span> <span class="n">FigureCanvasTkAgg</span><span class="p">(</span><span class="n">fig</span><span class="p">,</span> <span class="n">window</span><span class="p">[</span><span class="s">'-CANVAS-'</span><span class="p">].</span><span class="n">TKCanvas</span><span class="p">)</span>
<span class="n">fig_canvas_agg</span><span class="p">.</span><span class="n">draw</span><span class="p">()</span>
<span class="n">fig_canvas_agg</span><span class="p">.</span><span class="n">get_tk_widget</span><span class="p">().</span><span class="n">pack</span><span class="p">(</span><span class="n">side</span><span class="o">=</span><span class="s">'top'</span><span class="p">,</span> <span class="n">fill</span><span class="o">=</span><span class="s">'both'</span><span class="p">,</span> <span class="n">expand</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>

<span class="c1"># Event loop
</span><span class="k">while</span> <span class="bp">True</span><span class="p">:</span>
    <span class="n">event</span><span class="p">,</span> <span class="n">values</span> <span class="o">=</span> <span class="n">window</span><span class="p">.</span><span class="n">read</span><span class="p">(</span><span class="n">timeout</span><span class="o">=</span><span class="mi">100</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">event</span> <span class="o">==</span> <span class="n">sg</span><span class="p">.</span><span class="n">WIN_CLOSED</span><span class="p">:</span>
        <span class="k">break</span>

    <span class="c1"># Retrieve values from sliders
</span>    <span class="n">sigma_x</span> <span class="o">=</span> <span class="n">values</span><span class="p">[</span><span class="s">'-SIGMAX-'</span><span class="p">]</span>
    <span class="n">sigma_y</span> <span class="o">=</span> <span class="n">values</span><span class="p">[</span><span class="s">'-SIGMAY-'</span><span class="p">]</span>
    <span class="n">tau_xy</span> <span class="o">=</span> <span class="n">values</span><span class="p">[</span><span class="s">'-TAUXY-'</span><span class="p">]</span>

    <span class="c1"># Create updated Mohr's Circle
</span>    <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">center</span><span class="p">,</span> <span class="n">radius</span> <span class="o">=</span> <span class="n">create_mohrs_circle</span><span class="p">(</span><span class="n">sigma_x</span><span class="p">,</span> <span class="n">sigma_y</span><span class="p">,</span> <span class="n">tau_xy</span><span class="p">)</span>

    <span class="c1"># Update Mohr's Circle plot
</span>    <span class="n">ax</span><span class="p">.</span><span class="n">clear</span><span class="p">()</span>
    <span class="n">ax</span><span class="p">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s">'black'</span><span class="p">)</span>
    <span class="n">ax</span><span class="p">.</span><span class="n">plot</span><span class="p">([</span><span class="n">sigma_x</span><span class="p">,</span> <span class="n">sigma_y</span><span class="p">],</span> <span class="p">[</span><span class="o">-</span><span class="n">tau_xy</span><span class="p">,</span> <span class="n">tau_xy</span><span class="p">],</span> <span class="s">'ko'</span><span class="p">)</span>  <span class="c1"># Points σ1, σ2
</span>    <span class="n">ax</span><span class="p">.</span><span class="n">plot</span><span class="p">(</span><span class="n">center</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="s">'ko'</span><span class="p">)</span>  <span class="c1"># Point c (Center)
</span>    <span class="n">ax</span><span class="p">.</span><span class="n">plot</span><span class="p">([</span><span class="n">sigma_1</span><span class="p">,</span> <span class="n">sigma_2</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="s">'ko'</span><span class="p">)</span>  <span class="c1"># Points max principal stress and min principal stress
</span>    <span class="n">ax</span><span class="p">.</span><span class="n">plot</span><span class="p">([</span><span class="n">center</span><span class="p">,</span> <span class="n">center</span><span class="p">],</span> <span class="p">[</span><span class="n">radius</span><span class="p">,</span> <span class="o">-</span><span class="n">radius</span><span class="p">],</span> <span class="s">'ko'</span><span class="p">)</span>  <span class="c1"># Points max principal stress and min principal stress
</span>    <span class="n">ax</span><span class="p">.</span><span class="n">text</span><span class="p">(</span><span class="n">sigma_x</span><span class="p">,</span> <span class="o">-</span><span class="n">tau_xy</span><span class="p">,</span> <span class="s">'σx, -τxy'</span><span class="p">,</span> <span class="n">ha</span><span class="o">=</span><span class="s">'right'</span><span class="p">,</span> <span class="n">va</span><span class="o">=</span><span class="s">'bottom'</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s">'black'</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">9</span><span class="p">)</span>  <span class="c1"># Label for σ1
</span>    <span class="n">ax</span><span class="p">.</span><span class="n">text</span><span class="p">(</span><span class="n">sigma_y</span><span class="p">,</span> <span class="n">tau_xy</span><span class="p">,</span> <span class="s">'σy, τxy'</span><span class="p">,</span> <span class="n">ha</span><span class="o">=</span><span class="s">'right'</span><span class="p">,</span> <span class="n">va</span><span class="o">=</span><span class="s">'top'</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s">'black'</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">9</span><span class="p">)</span>  <span class="c1"># Label for σ2
</span>    <span class="n">ax</span><span class="p">.</span><span class="n">text</span><span class="p">(</span><span class="n">sigma_1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="sa">f</span><span class="s">" σ1 = </span><span class="si">{</span><span class="n">sigma_1</span><span class="p">:.</span><span class="mi">2</span><span class="n">f</span><span class="si">}</span><span class="s">"</span><span class="p">,</span> <span class="n">ha</span><span class="o">=</span><span class="s">'right'</span><span class="p">,</span> <span class="n">va</span><span class="o">=</span><span class="s">'bottom'</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s">'black'</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">9</span><span class="p">)</span>  <span class="c1"># Max Principal Stress
</span>    <span class="n">ax</span><span class="p">.</span><span class="n">text</span><span class="p">(</span><span class="n">sigma_2</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="sa">f</span><span class="s">" σ2 = </span><span class="si">{</span><span class="n">sigma_2</span><span class="p">:.</span><span class="mi">2</span><span class="n">f</span><span class="si">}</span><span class="s">"</span><span class="p">,</span> <span class="n">ha</span><span class="o">=</span><span class="s">'left'</span><span class="p">,</span> <span class="n">va</span><span class="o">=</span><span class="s">'top'</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s">'black'</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">9</span><span class="p">)</span>  <span class="c1"># Min Principal Stress
</span>    <span class="n">ax</span><span class="p">.</span><span class="n">text</span><span class="p">(</span><span class="n">center</span><span class="p">,</span> <span class="n">radius</span><span class="p">,</span> <span class="sa">f</span><span class="s">" τmax = </span><span class="si">{</span><span class="n">radius</span><span class="p">:.</span><span class="mi">2</span><span class="n">f</span><span class="si">}</span><span class="s">"</span><span class="p">,</span> <span class="n">ha</span><span class="o">=</span><span class="s">'right'</span><span class="p">,</span> <span class="n">va</span><span class="o">=</span><span class="s">'bottom'</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s">'black'</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">9</span><span class="p">)</span>  <span class="c1"># Max Shear Stress
</span>    <span class="n">ax</span><span class="p">.</span><span class="n">text</span><span class="p">(</span><span class="n">center</span><span class="p">,</span> <span class="o">-</span><span class="n">radius</span><span class="p">,</span> <span class="sa">f</span><span class="s">" τmin = </span><span class="si">{</span><span class="o">-</span><span class="n">radius</span><span class="p">:.</span><span class="mi">2</span><span class="n">f</span><span class="si">}</span><span class="s">"</span><span class="p">,</span> <span class="n">ha</span><span class="o">=</span><span class="s">'right'</span><span class="p">,</span> <span class="n">va</span><span class="o">=</span><span class="s">'bottom'</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s">'black'</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">9</span><span class="p">)</span>  <span class="c1"># Min Shear Stress
</span>    <span class="n">ax</span><span class="p">.</span><span class="n">text</span><span class="p">(</span><span class="n">center</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="sa">f</span><span class="s">" C (</span><span class="si">{</span><span class="n">center</span><span class="p">:.</span><span class="mi">2</span><span class="n">f</span><span class="si">}</span><span class="s">, 0)"</span><span class="p">,</span> <span class="n">ha</span><span class="o">=</span><span class="s">'left'</span><span class="p">,</span> <span class="n">va</span><span class="o">=</span><span class="s">'top'</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s">'black'</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">9</span><span class="p">)</span>  <span class="c1"># Point c
</span>
    <span class="c1"># Shade region between the lines and x-axis
</span>    <span class="n">ax</span><span class="p">.</span><span class="n">fill_between</span><span class="p">([</span><span class="n">sigma_x</span><span class="p">,</span> <span class="n">sigma_y</span><span class="p">,</span> <span class="n">center</span><span class="p">],</span> <span class="p">[</span><span class="o">-</span><span class="n">tau_xy</span><span class="p">,</span> <span class="n">tau_xy</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="n">color</span><span class="o">=</span><span class="s">'lightgreen'</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.5</span><span class="p">)</span>
    <span class="n">ax</span><span class="p">.</span><span class="n">fill_between</span><span class="p">([</span><span class="n">sigma_y</span><span class="p">,</span> <span class="n">sigma_x</span><span class="p">,</span> <span class="n">center</span><span class="p">],</span> <span class="p">[</span><span class="n">tau_xy</span><span class="p">,</span> <span class="o">-</span><span class="n">tau_xy</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="n">color</span><span class="o">=</span><span class="s">'lightgreen'</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.5</span><span class="p">)</span>

    <span class="c1"># Draw lines connecting the points to the x-axis
</span>    <span class="n">ax</span><span class="p">.</span><span class="n">plot</span><span class="p">([</span><span class="n">sigma_x</span><span class="p">,</span> <span class="n">sigma_x</span><span class="p">],</span> <span class="p">[</span><span class="o">-</span><span class="n">tau_xy</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="s">'k-'</span><span class="p">)</span>
    <span class="n">ax</span><span class="p">.</span><span class="n">plot</span><span class="p">([</span><span class="n">sigma_y</span><span class="p">,</span> <span class="n">sigma_y</span><span class="p">],</span> <span class="p">[</span><span class="n">tau_xy</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="s">'k-'</span><span class="p">)</span>
    <span class="n">ax</span><span class="p">.</span><span class="n">plot</span><span class="p">([</span><span class="n">center</span><span class="p">,</span> <span class="n">center</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="s">'k--'</span><span class="p">)</span>
    <span class="n">ax</span><span class="p">.</span><span class="n">plot</span><span class="p">([</span><span class="n">sigma_1</span><span class="p">,</span> <span class="n">sigma_2</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="s">'k-'</span><span class="p">)</span>
    <span class="n">ax</span><span class="p">.</span><span class="n">plot</span><span class="p">([</span><span class="n">center</span><span class="p">,</span> <span class="n">center</span><span class="p">],</span> <span class="p">[</span><span class="n">radius</span><span class="p">,</span> <span class="o">-</span><span class="n">radius</span><span class="p">],</span> <span class="s">'k-'</span><span class="p">)</span>
    <span class="n">ax</span><span class="p">.</span><span class="n">plot</span><span class="p">([</span><span class="n">sigma_x</span><span class="p">,</span> <span class="n">sigma_y</span><span class="p">],</span> <span class="p">[</span><span class="o">-</span><span class="n">tau_xy</span><span class="p">,</span> <span class="n">tau_xy</span><span class="p">],</span> <span class="s">'k-'</span><span class="p">)</span>



    <span class="c1"># Calculate and display the angle covered by the line from x-axis
</span>    <span class="n">angle_rad</span> <span class="o">=</span> <span class="p">(</span><span class="n">np</span><span class="p">.</span><span class="n">arctan</span><span class="p">((</span><span class="mi">2</span> <span class="o">*</span> <span class="n">tau_xy</span><span class="p">)</span> <span class="o">/</span> <span class="p">(</span><span class="n">sigma_x</span> <span class="o">-</span> <span class="n">sigma_y</span><span class="p">)))</span><span class="o">/</span><span class="mi">2</span>
    <span class="n">angle_deg</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="n">degrees</span><span class="p">(</span><span class="n">angle_rad</span><span class="p">)</span>
    <span class="n">ax</span><span class="p">.</span><span class="n">text</span><span class="p">(</span><span class="n">center</span> <span class="o">-</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="sa">f</span><span class="s">'θₚ₂: </span><span class="si">{</span><span class="n">angle_deg</span><span class="p">:.</span><span class="mi">2</span><span class="n">f</span><span class="si">}</span><span class="s">°'</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s">'black'</span><span class="p">)</span>

    <span class="n">ax</span><span class="p">.</span><span class="n">set_title</span><span class="p">(</span><span class="s">"Mohr's Circle"</span><span class="p">)</span>
    <span class="n">ax</span><span class="p">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s">"Normal Stress"</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">9</span><span class="p">)</span>
    <span class="n">ax</span><span class="p">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s">"Shear Stress"</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">9</span><span class="p">)</span>
    <span class="n">ax</span><span class="p">.</span><span class="n">grid</span><span class="p">(</span><span class="bp">True</span><span class="p">,</span> <span class="n">linestyle</span><span class="o">=</span><span class="s">'--'</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s">'black'</span><span class="p">)</span>  
    <span class="n">ax</span><span class="p">.</span><span class="n">set_facecolor</span><span class="p">(</span><span class="s">'#40516c'</span><span class="p">)</span>
    
    <span class="n">plt</span><span class="p">.</span><span class="n">tight_layout</span><span class="p">()</span>
    <span class="c1"># Update Mohr's Circle table with principal stresses
</span>    <span class="n">sigma_1</span> <span class="o">=</span> <span class="n">center</span> <span class="o">+</span> <span class="n">radius</span>
    <span class="n">sigma_2</span> <span class="o">=</span> <span class="n">center</span> <span class="o">-</span> <span class="n">radius</span>
    <span class="n">max_shear_stress</span> <span class="o">=</span> <span class="p">(</span><span class="n">sigma_1</span> <span class="o">-</span> <span class="n">sigma_2</span><span class="p">)</span> <span class="o">/</span> <span class="mi">2</span>
    
    
    <span class="n">table_data</span> <span class="o">=</span> <span class="p">[[</span><span class="s">'Max. Principal Stress'</span><span class="p">,</span> <span class="sa">f</span><span class="s">"</span><span class="si">{</span><span class="n">sigma_1</span><span class="p">:.</span><span class="mi">2</span><span class="n">f</span><span class="si">}</span><span class="s">"</span><span class="p">],</span>
                  <span class="p">[</span><span class="s">'Min. Principal Stress'</span><span class="p">,</span> <span class="sa">f</span><span class="s">"</span><span class="si">{</span><span class="n">sigma_2</span><span class="p">:.</span><span class="mi">2</span><span class="n">f</span><span class="si">}</span><span class="s">"</span><span class="p">],</span>
                  <span class="p">[</span><span class="s">'Max. Shear Stress'</span><span class="p">,</span> <span class="sa">f</span><span class="s">"</span><span class="si">{</span><span class="n">max_shear_stress</span><span class="p">:.</span><span class="mi">2</span><span class="n">f</span><span class="si">}</span><span class="s">"</span><span class="p">],</span>
                  <span class="p">[</span><span class="s">'Min. Shear Stress'</span><span class="p">,</span> <span class="sa">f</span><span class="s">"</span><span class="si">{</span><span class="o">-</span><span class="n">max_shear_stress</span><span class="p">:.</span><span class="mi">2</span><span class="n">f</span><span class="si">}</span><span class="s">"</span><span class="p">],</span>
                  <span class="p">[</span><span class="s">'σ_avg'</span><span class="p">,</span> <span class="sa">f</span><span class="s">"</span><span class="si">{</span><span class="n">center</span><span class="p">:.</span><span class="mi">2</span><span class="n">f</span><span class="si">}</span><span class="s">"</span><span class="p">]</span>
                  <span class="p">]</span>
    <span class="n">window</span><span class="p">[</span><span class="s">'-TABLE-'</span><span class="p">].</span><span class="n">update</span><span class="p">(</span><span class="n">values</span><span class="o">=</span><span class="n">table_data</span><span class="p">)</span>

    <span class="c1"># Convert updated plot to a format that PySimpleGUI can display
</span>    <span class="n">fig_canvas_agg</span><span class="p">.</span><span class="n">draw_idle</span><span class="p">()</span>

<span class="n">window</span><span class="p">.</span><span class="n">close</span><span class="p">()</span>

</code></pre></div></div></div></div><div class="tagbox"> <i><div class="row"><div class="col-md-12"> <p class="categories" data-aos="fade-up"> <span >PYTHON-PROJECT </span > <span >COMPUTATIONAL MECHANICS </span > <span >PROGRAMMING </span > <span>MECHANICS</span> </p></div></div></i></div><link rel="stylesheet" href="/assets/css/slider/ideal-image-slider.css"><link rel="stylesheet" href="/assets/css/slider/themes/default.css"> <style type="text/css">.ideal-image-slider{margin-bottom:15px}</style><script src="/assets/js/slider/ideal-image-slider.min.js"></script><script src="/assets/js/slider/iis-bullet-nav.js"></script><script src="/assets/js/slider/iis-captions.js"></script><script> var = new IdealImageSlider.Slider({ selector: '#', }); .start();</script><hr class="dashed" /><div></div></main><div id="search-container"></div><div><script> document.body.onkeyup = function (e) { if (e.keyCode == '37') { window.location = '/projects/von-karman/'; } if (e.keyCode == '39') { window.location = ''; } };</script><div class="blog-prev-next-posts "><div class="row"><div class="col-xl-6 col-lg-8 col-md-6"><div class="pn-post-item"><div class="thumb"> <a href="/projects/von-karman/"><img src="/images/ansys-simulation/vonKarman/vonKarman2.gif" alt="img"></a></div><div class="content"> <span>Prev Post</span> <h5 class="title tgcommon__hover"> <a href="/projects/von-karman/">Von Kármán vortex</a> </h5></div></div></div><div class="col-xl-6 col-lg-8 col-md-6"><div class="pn-post-item next-post"></div></div></div></div></div><span> <i><div class="row" data-aos="fade-up"><div class="col-md-12"><div class="share-box"> <i aria-hidden="true">Share on</i> <a class="f nostyle" href="https://facebook.com/sharer.php?u=http://localhost:4000/projects/2D%20Mohr's%20Circle/ &title=2D Mohr's Circle" onclick="window.open(this.href, 'mywin', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" ><i class="fa fa-facebook-square fa"></i ></a> <a class="t nostyle" href="https://twitter.com/intent/tweet?text=&url=http://localhost:4000/projects/2D%20Mohr's%20Circle/" onclick="window.open(this.href, 'mywin', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" ><i class="fa fa-twitter fa"></i ></a> <a class="r nostyle" href="http://www.reddit.com/submit?url=http://localhost:4000/projects/2D%20Mohr's%20Circle/" onclick="window.open(this.href, 'mywin', 'left=20,top=20,width=900,height=500,toolbar=1,resizable=0'); return false;" ><i class="fa fa-reddit fa"></i ></a> <a class="l nostyle" href="https://www.linkedin.com/shareArticle?mini=true&url=http://localhost:4000/projects/2D%20Mohr's%20Circle/" onclick="window.open(this.href, 'mywin', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" ><i class="fa fa-linkedin fa"></i ></a> <a class="e nostyle" href="mailto:?subject=&amp;body=Check&amp;out&amp;this&amp;site&amp;http://localhost:4000" ><i class="fa fa-envelope fa"></i ></a></div></div></div></i> </span></div><div class="commentbox"> <hr class="dashed" /><footer data-aos="fade-up"><div class="text-right"> <p class="copy"> <i class="fa fa-copyright"></i> 2023 <a class="rev" href="http://localhost:4000">Aditya Amatya</a> </p></div></footer></div></div><div class="outline shadow" id="scrollbar-1"><div class="outlinescroller"><div></div></div></div><div id="fas"> <area class="fa fa-arrow-circle-o-up fa-3x"></area></div></div></div><script src="/assets/js/jQuery.min.js"></script><script src="/assets/js/jquery.min.js"></script><script src="/assets/js/bootstrap.bundle.min.js"></script><script src="/assets/js/breakpoints.min.js"></script><script src="/assets/js/isotope.js"></script><script src="/assets/js/app.js"></script><script src="/assets/js/portfolio-filter.js"></script><script src="/assets/js/main.js"></script><script src="/assets/js/custom.js"></script><script src="/assets/js/themetoggler.js"></script><script> $(document).ready(function () { $(".loader").hide(); });</script><script> (function () { var css = document.createElement("link"); css.href = "/assets/font-awesome-4.7.0/css/font-awesome.min.css"; css.rel = "stylesheet"; css.type = "text/css"; document.getElementsByTagName("head")[0].appendChild(css); })();</script><noscript><link rel="stylesheet" href="/assets/font-awesome-4.7.0/css/font-awesome.min.css" /> </noscript><script> $("#search-input").keyup(function () { $("main").hide(); $("search-container").show(); if (!$("#search-input").val()) { $("main").show(); $("search-container").hide(); } });</script><script src="/assets/js/jekyll-search.min.js"></script><script> SimpleJekyllSearch({ searchInput: document.getElementById("search-input"), resultsContainer: document.getElementById("search-container"), searchResultTemplate: '<a class="nostyle" href="{url}"><div class="blog borders cards"><div class="image" style="background-image: url({image});"></div><div class="content"><h3 class="title">{title}</h3><p class="description">{description}</p></div></div></a>', noResultsText: "No results found", json: "/search.json", });</script><script> (function () { var css = document.createElement("link"); css.href = "https://unpkg.com/aos@2.3.1/dist/aos.css"; css.rel = "stylesheet"; css.type = "text/css"; document.getElementsByTagName("head")[0].appendChild(css); })();</script><noscript><link rel="stylesheet" href="/assets/animate-on-scroll/aos.min.css" /> </noscript><script src="/assets/animate-on-scroll/aos.min.js"></script><script> AOS.init({ duration: 600, once: true, disable: "mobile", });</script></body></html>